<div class="min-h-screen bg-gray-100 py-8 px-4 sm:px-6 lg:px-8">
  <div class="max-w-3xl mx-auto">
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-gray-900">Create New Article</h1>
      <p class="mt-2 text-sm text-gray-600">Fill in the details to create a new article.</p>
    </div>

    <!-- Error Message -->
    @if (errorMessage) {
    <div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
      <p class="text-sm text-red-600">{{ errorMessage }}</p>
    </div>
    }

    <!-- Form -->
    <div class="bg-white rounded-lg shadow-md p-8">
      <form [formGroup]="articleForm" (ngSubmit)="onSubmit()" class="space-y-6">
        <!-- Title -->
        <div>
          <label for="title" class="block text-sm font-medium text-gray-700 mb-1">
            Title <span class="text-red-500">*</span>
          </label>
          <input
            id="title"
            type="text"
            formControlName="title"
            [disabled]="!canCreate"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition disabled:bg-gray-100"
            [class.border-red-500]="title?.invalid && title?.touched"
            placeholder="Enter article title"
          />
          @if (title?.invalid && title?.touched) {
          <p class="mt-1 text-sm text-red-600">
            @if (title?.errors?.['required']) { Title is required } @if
            (title?.errors?.['minlength']) { Title must be at least 3 characters }
          </p>
          }
        </div>

        <!-- Body -->
        <div>
          <label for="body" class="block text-sm font-medium text-gray-700 mb-1">
            Body <span class="text-red-500">*</span>
          </label>
          <textarea
            id="body"
            formControlName="body"
            [disabled]="!canCreate"
            rows="10"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition disabled:bg-gray-100 resize-none"
            [class.border-red-500]="body?.invalid && body?.touched"
            placeholder="Enter article content"
          ></textarea>
          @if (body?.invalid && body?.touched) {
          <p class="mt-1 text-sm text-red-600">
            @if (body?.errors?.['required']) { Body is required } @if (body?.errors?.['minlength'])
            { Body must be at least 10 characters }
          </p>
          }
        </div>

        <!-- Image URL -->
        <div>
          <label for="image" class="block text-sm font-medium text-gray-700 mb-1">
            Image URL (Optional)
          </label>
          <input
            id="image"
            type="text"
            formControlName="image"
            [disabled]="!canCreate"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition disabled:bg-gray-100"
            placeholder="Enter image URL (optional)"
          />
          <p class="mt-1 text-xs text-gray-500">Leave empty if no image is needed</p>
        </div>

        <!-- Actions -->
        <div class="flex gap-4 pt-4">
          <button
            type="submit"
            [disabled]="isLoading || !canCreate"
            class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"
          >
            @if (isLoading) {
            <span>Creating...</span>
            } @else {
            <span>Create Article</span>
            }
          </button>
          <button
            type="button"
            (click)="onCancel()"
            [disabled]="isLoading"
            class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-6 rounded-lg transition disabled:opacity-50"
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
